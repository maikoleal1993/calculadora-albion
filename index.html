<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora Albion Online</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body {
  margin:0;
  padding:0;
  background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.8)),url("778611.jpg") center/cover fixed;
  font-family:Montserrat,sans-serif;
  color:#fff;
  display:flex;
  justify-content:center;
  padding-top:40px;
}

.container {
  width:100%;
  max-width:750px;
  background:rgba(25,25,25,.85);
  border-radius:14px;
  padding:22px;
}

.menu {
  display:flex;
  gap:10px;
  margin-bottom:20px;
}

.menu button {
  flex:1;
  padding:10px;
  background:#ffb347;
  border:none;
  font-weight:bold;
  border-radius:8px;
  cursor:pointer;
}

.menu button:hover { background:#ffc36a; }

h2 { text-align:center; color:#ffb347; }

button {
  width:100%;
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  background:#ffb347;
}

input, select {
  width:100%;
  padding:8px;
  margin-top:6px;
  border-radius:6px;
  border:none;
  background:#333;
  color:#fff;
}

label { margin-top:10px; display:block; }

.result {
  background:#111;
  padding:12px;
  border-radius:8px;
  margin-top:10px;
}
</style>
</head>

<body>

<div class="container">

<div class="menu">
  <button onclick="mostrarSeccion('calc')">üßÆ Calculadora</button>
  <button onclick="mostrarSeccion('ciudades')">üèôÔ∏è Ciudades</button>
</div>

<!-- ================= CIUDADES ================= -->
<section id="ciudades" style="display:none">
<h2>üèôÔ∏è Bonos por Ciudad</h2>

<select id="ciudadSelect" onchange="mostrarBonoCiudad()">
<option value="">-- Elegir ciudad --</option>
<option value="bridgewatch">Bridgewatch</option>
<option value="lymhurst">Lymhurst</option>
<option value="fortsterling">Fort Sterling</option>
<option value="martlock">Martlock</option>
<option value="thetford">Thetford</option>
<option value="caerleon">Caerleon</option>
<option value="brecilien">Brecilien</option>
</select>

<div id="resultadoCiudad" class="result"></div>
</section>

<!-- ================= CALCULADORA ================= -->
<section id="calc">

<h2>üßÆ Calculadora de Crafteo</h2>

<button id="btnCant">Calcular por cantidad</button>
<button id="btnInv">Calcular seg√∫n inventario</button>

<!-- ===== CANTIDAD ===== -->
<div id="section-cantidad">
<label>Comida</label>
<select id="comidaCant">
<option value="tortilla">Tortilla</option>
<option value="pastel">Pastel</option>
<option value="guiso">Guiso</option>
</select>

<label>Variante</label>
<select id="varianteCant">
<option value="0">Plana</option>
<option value="1">.1</option>
<option value="2">.2</option>
<option value="3">.3</option>
<option value="a0">Avaloniana</option>
</select>

<label>Cantidad</label>
<input type="number" id="cantidadCant">

<label>% Devoluci√≥n</label>
<input type="number" id="devolucionCant">

<button onclick="calcularCantidad()">Calcular</button>
<div id="resultadoCant" class="result"></div>
</div>

<!-- ===== INVENTARIO ===== -->
<div id="section-inventario" style="display:none">
<label>Comida</label>
<select id="comidaInv" onchange="generarInventarioInputs()">
<option value="tortilla">Tortilla</option>
<option value="pastel">Pastel</option>
<option value="guiso">Guiso</option>
</select>

<label>Variante</label>
<select id="varianteInv" onchange="generarInventarioInputs()">
<option value="0">Plana</option>
<option value="1">.1</option>
<option value="2">.2</option>
<option value="3">.3</option>
<option value="a0">Avaloniana</option>
</select>

<label>% Devoluci√≥n</label>
<input type="number" id="devolucionInv">

<div id="inventarioInputs"></div>

<button onclick="calcularInventarioSimulado()">Calcular</button>
<div id="resultadoInv" class="result"></div>
</div>

</section>

</div>

<script>
// ===== SECCIONES =====
function mostrarSeccion(id){
document.getElementById("calc").style.display="none";
document.getElementById("ciudades").style.display="none";
document.getElementById(id).style.display="block";
}

// ===== BOTONES =====
btnCant.onclick=()=>{
section-cantidad.style.display="block";
section-inventario.style.display="none";
}
btnInv.onclick=()=>{
section-cantidad.style.display="none";
section-inventario.style.display="block";
generarInventarioInputs();
}

// ===== DATOS COMIDAS =====
const comidas={
tortilla:{base:{"Ma√≠z":36,"Cerdo":72}},
pastel:{base:{"Ma√≠z":18,"Harina":36,"Cerdo":72}},
guiso:{base:{"Calabaza":36,"Pan":36,"Ternera":72}}
};

// ===== INVENTARIO INPUTS =====
function generarInventarioInputs(){
const cont=document.getElementById("inventarioInputs");
cont.innerHTML="";
const comida=document.getElementById("comidaInv").value;
for(let ing in comidas[comida].base){
let i=document.createElement("input");
i.placeholder=ing+" disponible";
i.id="inv_"+ing;
i.type="number";
cont.appendChild(i);
}
}

// ===== CALCULAR INVENTARIO =====
function calcularInventarioSimulado(){
const comida=comidaInv.value;
const dev=(parseFloat(devolucionInv.value)||0)/100;
let base=comidas[comida].base;
let total=Infinity;
for(let ing in base){
let have=parseFloat(document.getElementById("inv_"+ing).value)||0;
total=Math.min(total,Math.floor(have/(base[ing]*(1-dev))));
}
resultadoInv.innerHTML="Puedes craftear: <b>"+(total*10)+"</b>";
}

// ===== CIUDADES =====
const bonosCiudad={
brecilien:{txt:"Bono de crafteo: Bolsas y capas"},
caerleon:{txt:"Producci√≥n: Consuelda, Cardo drag√≥n, Gordolobo +10%<br>Fabricaci√≥n: Equipo recolecci√≥n, herramientas, comida, guantes de guerra, bast√≥n cambiaformas +15%"},
thetford:{txt:"Producci√≥n: Ag√°rico, coles, gordolobo +10%<br>Refinaci√≥n: Mineral +40%<br>Fabricaci√≥n: Carne cerdo +10%, maza, bast√≥n natural, √≠gneo +15%"},
fortsterling:{txt:"Producci√≥n: huevos, r√°banos, milenrama, leche oveja +10%<br>Refinaci√≥n: Madera +40%<br>Fabricaci√≥n: pollo, carnero +10%, martillo, lanza, bast√≥n sagrado, casco placas, armadura tela +15%"},
lymhurst:{txt:"Producci√≥n: zanahoria, bardana, huevos ganso, calabaza +10%<br>Refinaci√≥n: Fibra +40%<br>Fabricaci√≥n: carne ganso +10%, espada, arco, arcano, casco y zapatos cuero +15%"},
bridgewatch:{txt:"Producci√≥n: frijoles, leche cabra, cardo drag√≥n, ma√≠z +10%<br>Refinaci√≥n: Piedra +40%<br>Fabricaci√≥n: carne cabra +10%, ballesta, daga, armadura placa, zapatos tela +15%"},
martlock:{txt:"Producci√≥n: trigo, patata, dedalera, leche vaca +10%<br>Refinaci√≥n: Piel +40%<br>Fabricaci√≥n: carne ternera +10%, hacha, vara, zapatos placas, offhands +15%"}
};

function mostrarBonoCiudad(){
const c=ciudadSelect.value;
resultadoCiudad.innerHTML=bonosCiudad[c]?.txt||"";
}
</script>

</body>
</html>



