<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Calculadora crafteo de comidas</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  padding: 0;
  height: 100vh;
  font-family: 'Montserrat', sans-serif;
  background:
    linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.6)),
    url("778611.jpg") center/cover no-repeat fixed;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: start;
  padding-top: 40px;
}

.container {
  width: 100%;
  max-width: 680px;
  padding: 24px;
  background: rgba(20,20,20,0.55);
  backdrop-filter: blur(8px);
  border-radius: 12px;
  box-shadow: 0 0 24px rgba(0,0,0,0.5);
}

h2 { text-align:center; color:#ffb347; }

button {
  width: 100%;
  padding: 12px;
  margin-top: 14px;
  background: rgba(255,179,71,0.85);
  border: none;
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  color: #222;
  border-radius: 8px;
  transition: .2s ease;
}

button:hover { background: rgba(255,179,71,1); }

input, select {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  border-radius: 8px;
  border: none;
  background: #333;
  color: #fff;
  font-size: 0.95rem;
}

label { margin-top: 12px; display:block; font-size:0.9rem; }

.result {
  background: rgba(0,0,0,0.65);
  padding: 14px;
  margin-top: 14px;
  border-radius: 10px;
  color: #fff;
  text-shadow: 0 0 4px #000;
  font-size: 0.95rem;
}
#firma-top {
  position: fixed;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.6);
  padding: 6px 14px;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: bold;
  color: #ffb347;
  z-index: 9999;
  text-shadow: 0 0 4px #000;
}
</style>
</head>

<body>

<div id="firma-top">Creado por BLOODYPHANTOM</div>

<div class="container">

  <h2>ğŸ§® Calculadora crafteo de comidas</h2>

  <button onclick="showSection('cantidad')">ğŸ“Œ Calcular por cantidad</button>
  <button onclick="showSection('inventario')">ğŸ“¦ Calcular segÃºn inventario</button>

  <!-- SECCIÃ“N: Calcular por cantidad -->
  <div id="section-cantidad">
    <label>Comida:</label>
    <select id="comidaCant">
      <option value="tortilla">Tortilla de cerdo</option>
      <option value="pastel">Pastel de cerdo</option>
      <option value="guiso">Guiso de ternera</option>
    </select>

    <label>Variante:</label>
    <select id="varianteCant">
      <option value="0">Plana</option>
      <option value="1">.1</option>
      <option value="2">.2</option>
      <option value="3">.3</option>
      <option value="a0">Avaloniana plana</option>
      <option value="a1">Avaloniana .1</option>
      <option value="a2">Avaloniana .2</option>
      <option value="a3">Avaloniana .3</option>
    </select>

    <label>Cantidad (solo mÃºltiplos de 10):</label>
    <input type="number" id="cantidadCant" placeholder="Ej: 10">

    <label>% DevoluciÃ³n:</label>
    <input type="number" id="devolucionCant" placeholder="Ej: 17.9">

    <button onclick="calcularCantidad()">ğŸ” Calcular ingredientes</button>
    <div id="resultadoCant" class="result"></div>
  </div>

  <!-- SECCIÃ“N: SegÃºn inventario -->
  <div id="section-inventario" style="display:none;">
    <label>Comida:</label>
    <select id="comidaInv">
      <option value="tortilla">Tortilla de cerdo</option>
      <option value="pastel">Pastel de cerdo</option>
      <option value="guiso">Guiso de ternera</option>
    </select>

    <label>Variante:</label>
    <select id="varianteInv">
      <option value="0">Plana</option>
      <option value="1">.1</option>
      <option value="2">.2</option>
      <option value="3">.3</option>
      <option value="a0">Avaloniana plana</option>
      <option value="a1">Avaloniana .1</option>
      <option value="a2">Avaloniana .2</option>
      <option value="a3">Avaloniana .3</option>
    </select>

    <label>% DevoluciÃ³n:</label>
    <input type="number" id="devolucionInv" placeholder="Ej: 17.9">

    <div id="inventarioInputs"></div>

    <button onclick="calcularInventario()">ğŸ”¢ Calcular segÃºn inventario</button>
    <div id="resultadoInv" class="result"></div>
  </div>

</div>

<script>
// â€”â€”â€”â€”â€” Datos base â€”â€”â€”â€”â€”
const comidas = {
  tortilla: { base: { "Fardos de maÃ­z": 36, "Carne de cerdo": 72, "Huevos de ganso": 18 } },
  pastel:   { base: { "Fardos de maÃ­z": 18, "Harina": 36, "Carne de cerdo": 72, "Leche de oveja": 18 } },
  guiso:    { base: { "Calabazas": 36, "Pan": 36, "Carne de ternera": 72 } }
};

const salsas = { 1: "Salsa de pescado bÃ¡sica", 2: "Salsa de pescado extravagante", 3: "Salsa de pescado especial" };
const energiaAvalon = "EnergÃ­a avaloniana";

// â€”â€”â€”â€”â€” Navegar secciones â€”â€”â€”â€”â€”
function showSection(name) {
  document.getElementById("section-cantidad").style.display = (name === "cantidad" ? "block" : "none");
  document.getElementById("section-inventario").style.display = (name === "inventario" ? "block" : "none");
  document.getElementById("resultadoCant").innerHTML = "";
  document.getElementById("resultadoInv").innerHTML = "";
}

// â€”â€”â€”â€”â€” Calcular por cantidad â€”â€”â€”â€”â€”
function calcularCantidad() {
  const comida = document.getElementById("comidaCant").value;
  const variante = document.getElementById("varianteCant").value;
  const cantidad = parseInt(document.getElementById("cantidadCant").value);
  const dev = parseFloat(document.getElementById("devolucionCant").value) / 100;

  if (isNaN(cantidad) || cantidad <= 0 || cantidad % 10 !== 0) {
    return document.getElementById("resultadoCant").innerHTML = "<b>âŒ Ingresa un mÃºltiplo de 10 vÃ¡lido</b>";
  }

  let ingrs = {};
  for (let ing in comidas[comida].base) ingrs[ing] = comidas[comida].base[ing] * cantidad;

  if (variante.startsWith("a")) {
    ingrs[energiaAvalon] = 90 * cantidad;
    let idx = parseInt(variante.charAt(1));
    if (idx > 0) ingrs[salsas[idx]] = 90 * cantidad;
  } else {
    let idx = parseInt(variante);
    if (idx > 0) ingrs[salsas[idx]] = 90 * cantidad;
  }

  let html = "<b>Ingredientes necesarios:</b><br>";
  for (let ing in ingrs) {
    let neto = ingrs[ing] * (1 - dev);
    html += `${ing}: <b>${neto.toFixed(2)}</b><br>`;
  }
  document.getElementById("resultadoCant").innerHTML = html;
}

// â€”â€”â€”â€”â€” Generar inputs inventario â€”â€”â€”â€”â€”
function generarInventarioInputs() {
  const cont = document.getElementById("inventarioInputs");

